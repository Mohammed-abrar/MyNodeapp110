<html>
<head>
<title>
Conversation App
</title>
<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"> </script>
<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.min.js"> </script>

<script>
var app = angular.module("myApp",  ["ngRoute"]);

app.controller('mycontroller', function($scope,$http) {
	console.log("controller is hit");
	$scope.myData = [];
	$http.get('/firstcall').then(function(response){
			$scope.myData.push(response.data);
	});	
});

function send1() {
        console.log($scope.input.question);
	$scope.myData.push($scope.input.question);
	$http.post('/consecutivecalls').then(function(response){
			$scope.myData.push(response.data);
	});
	}

</script>
</head>

<body bgcolor="#999966" ng-app="myApp" ng-controller="mycontroller">
<br><br>
<h1 align="center"> Welcome to the chat App </h1>
<br><br>

<form name="myForm" >
<table align="center">
<tr> <td> <div rows="15" cols="50" ng-repeat = "x in myData"> {{ x  }}  <br> </div> </td></tr>
<br>

<tr> 
<td> <input type="text" ng-model="input.question" / > </td>
<td> <button type="button" ng-click="send1()" > Send </button> </td>
</table>
</form>
</body>
</html>


